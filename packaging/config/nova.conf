# Nova Configuration File
# This file uses TOML format
# Documentation: /usr/share/doc/nova/

[general]
# Data directory for VM images, snapshots, etc.
data_dir = "/var/lib/nova"

# Log level: trace, debug, info, warn, error
log_level = "info"

# Log file location
log_file = "/var/log/nova/nova.log"

[console]
# Preferred console protocol: rustdesk, spice, vnc, looking-glass
preferred_protocol = "spice"

# Auto-optimize console performance
auto_optimize = true

# Enable clipboard synchronization
enable_clipboard = true

# Enable file transfer
enable_file_transfer = true

[gpu]
# Enable GPU passthrough support
enabled = true

# Preferred NVIDIA driver: open, proprietary, auto
nvidia_driver = "open"

# Auto-detect and configure GPU passthrough
auto_configure = true

# VFIO driver binding strategy: manual, auto, lazy
vfio_binding = "auto"

[network]
# Default network bridge
default_bridge = "virbr0"

# Enable STP on bridges
enable_stp = true

# Network state cache directory
cache_dir = "/var/lib/nova/networks"

[storage]
# Default storage pool
default_pool = "default"

# Preferred filesystem for new pools: dir, btrfs, zfs
preferred_fs = "btrfs"

# Enable thin provisioning by default
thin_provisioning = true

[migration]
# Bandwidth limit for live migration (Mbps)
bandwidth_limit = 1000

# Enable auto-converge for live migration
auto_converge = true

# Enable compression for migration
compress = true

# Number of parallel connections for migration
parallel_connections = 4

[monitoring]
# Enable Prometheus metrics exporter
prometheus_enabled = false

# Prometheus metrics port
prometheus_port = 9090

# Metrics collection interval (seconds)
metrics_interval = 10

[security]
# Enable SELinux/AppArmor integration
mandatory_access_control = true

# Verify VM image checksums
verify_checksums = true

# Enable secure boot for VMs
secure_boot_default = false
